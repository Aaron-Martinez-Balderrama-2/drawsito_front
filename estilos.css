:root{--f:13px;--grisB:#d9dde5;--grisE:#e6e6e6;--azul:#0b57d0;}
*{box-sizing:border-box;font-family:system-ui,Segoe UI,Arial;margin:0;padding:0}
html,body{height:100%;background:#fafafa;color:#111}

/* Barra */
.barra{display:flex;gap:.5rem;align-items:center;padding:.5rem .75rem;border-bottom:1px solid var(--grisB);background:#fff}
.barra button,.barra input,.barra select{font-size:var(--f);padding:.42rem .6rem;border:1px solid var(--grisB);background:#fff;border-radius:.6rem}
.barra button:hover{background:#f3f6fb;cursor:pointer}
.sep{width:1px;height:26px;background:var(--grisB);margin:0 .25rem}
.zoomlbl{display:flex;gap:.35rem;align-items:center}

/* Layout */
.principal{display:grid;grid-template-columns:220px 1fr 260px;min-height:calc(100vh - 50px)}

/* Paleta */
.paleta{border-right:1px solid var(--grisB);background:#fff;padding:.6rem;overflow:auto}
.paleta .pieza{user-select:none;border:1px dashed #c9d3e5;padding:.5rem;border-radius:.6rem;margin:.5rem 0;background:#fbfdff;cursor:grab}
.paleta .pieza:active{background:#f4f8ff;cursor:grabbing}
.paleta .nota{font-size:12px;color:#475569;margin-top:.6rem}

/* Lienzo */
.zona{position:relative;overflow:auto;background:#fff}
#lienzo{display:block;background:#fff}

/* v1.1.2: los editores pasan a position:fixed (anclados a la ventana),
   así no se desalinean entre hojas ni con scroll */
#editor_inline{
  position:fixed;           /* antes: absolute */
  z-index:50;
  display:none;
  padding:.2rem .3rem;
  border:2px solid var(--azul);
  border-radius:.4rem;
  outline:none;
  background:#fff;
  box-shadow:0 6px 18px rgba(0,0,0,.08);
  font:13px system-ui
}

/* Botón eliminar ya estaba fijo */
#btn_borrar_sel{
  position:fixed;
  z-index:49;
  display:none;
  border:none;
  background:#ef4444;
  color:#fff;
  border-radius:.5rem;
  padding:.2rem .4rem;
  font-size:12px;
  box-shadow:0 4px 10px rgba(0,0,0,.1);
  cursor:pointer
}

/* Editor de aristas (mini popover) – ahora también fixed */
.pop{
  position:fixed;           /* antes: absolute */
  z-index:50;
  display:none;
  background:#fff;
  border:1px solid var(--grisB);
  border-radius:.6rem;
  padding:.5rem .6rem;
  box-shadow:0 10px 30px rgba(0,0,0,.10);
  min-width:280px
}
.pop .fila{display:flex;flex-direction:column;gap:.25rem;margin-bottom:.35rem}
.pop .fila2{display:flex;gap:.5rem;margin-bottom:.35rem}
.pop label{font-size:11.5px;color:#334155}
.pop input{width:100%;padding:.34rem .45rem;border:1px solid var(--grisB);border-radius:.45rem;font-size:13px;background:#fff}
.pop .acciones{display:flex;gap:.5rem;justify-content:flex-end}
.pop button{border:1px solid var(--grisB);background:#fbfdff;padding:.35rem .6rem;border-radius:.5rem;cursor:pointer}
.pop button:hover{background:#f3f6fb}

/* Panel */
.panel{border-left:1px solid var(--grisB);background:#fff;padding:.6rem;overflow:auto}
.panel .grupo{margin-bottom:1rem;font-size:13px}
.panel .etq{font-size:12px;color:#334155;margin-bottom:.2rem;display:block}
.panel input[type="text"],.panel select{width:100%;padding:.34rem .45rem;border:1px solid var(--grisB);border-radius:.45rem;font-size:13px;background:#fff;margin-bottom:.4rem}
.panel .fila{display:flex;gap:.4rem;margin-top:.35rem;flex-wrap:wrap}
.panel button{flex:1 1 auto;border:1px solid var(--grisB);background:#fbfdff;padding:.35rem .45rem;border-radius:.5rem;cursor:pointer}
.panel button:hover{background:#f3f6fb}
.panel .nota{display:block;color:#475569;font-size:11.5px;margin-top:.35rem}

/* Ayuda */
.ayuda{position:fixed;right:10px;bottom:10px;background:#0b57d0;color:#fff;border-radius:.7rem;padding:.35rem .6rem;font-size:12px;opacity:.9;pointer-events:none}
